!async function(){const e=document.querySelector("form"),t=document.querySelector(".list");async function n(){const e=JSON.parse(localStorage.getItem("items"));return null===e?[]:e}const r=await n();async function a(e,t){let n=`<ol class="list_li">${t.map((e=>`<li>${e}</li>`)).join("")}</ol>`;e.innerHTML=n,document.querySelector(".list_li").addEventListener("click",(e=>{console.log(e.target.innerText),o(e.target.innerText)}))}async function o(e){fetch(`https://api.openweathermap.org/data/2.5/weather?units=metric&q=${e}&appid=2a65fd6cf7e06ab6144595db8eef6f98`).then((function(e){return e.json()})).then((function(e){return document.querySelector(".weather__city").textContent=e.name,document.querySelector(".weather__forecast").innerHTML=Math.round(e.main.temp)+"&deg;",document.querySelector(".weather__desc").textContent=e.weather[0].description,document.querySelector(".weatherInfo").innerHTML=`<img src="https://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png">`,document.querySelector(".weatherInfo").innerHTML="wind: "+e.wind.speed+" m/s",e}))}e.addEventListener("submit",(async e=>{e.preventDefault();const n=e.target.querySelector(".userInput"),c=n.value,i=(await o(c),n.value);if(n.value="",!(r.length<=9))return r;r.push(i),await a(t,r),function(e){localStorage.setItem("items",JSON.stringify(e))}(r)})),await a(t,r),await n()}(),async function(e){var t;t=await fetch("https://api.openweathermap.org/data/2.5/weather?units=metric&q=Yoshkar-Ola&appid=2a65fd6cf7e06ab6144595db8eef6f98").then((e=>e.json())),document.querySelector(".weather__city").textContent=t.name,document.querySelector(".weather__forecast").innerHTML=Math.round(t.main.temp)+"&deg;",document.querySelector(".weather__desc").textContent=t.weather[0].description,document.querySelector(".weatherInfo").innerHTML=`<img src="https://openweathermap.org/img/wn/${t.weather[0].icon}@2x.png">`,document.querySelector(".weatherInfo").innerHTML="wind: "+t.wind.speed+" m/s"}();